---
import "../styles/global.css";
const { title = "TP3 – Plot Demos" } = Astro.props;

// utilitaire actif/inactif
const path = Astro.url.pathname;
const is = (p: string) => (p === "/" ? path === "/" : path.startsWith(p));
---

<html lang="fr" class="scroll-smooth">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>{title}</title>
  </head>

  <body class="bg-gray-50 text-gray-900">
    <header class="border-b border-gray-200 bg-white">
      <div
        class="mx-auto max-w-5xl px-4 py-3 flex items-center justify-between gap-4"
      >
        <a href="/" class="font-extrabold text-gray-900">TP3 – Plot Demos</a>

        <!-- nav “pills” -->
        <nav class="flex flex-wrap gap-2">
          <a
            href="/"
            class={`inline-flex items-center rounded-full px-3 py-2 text-sm font-semibold shadow-sm ${is("/") ? "bg-white border border-gray-200" : "border border-transparent hover:bg-gray-100"}`}
            >Accueil</a
          >
          <a
            href="/species/"
            class={`inline-flex items-center rounded-full px-3 py-2 text-sm font-semibold shadow-sm ${is("/species") ? "bg-white border border-gray-200" : "border border-transparent hover:bg-gray-100"}`}
            >Espèces</a
          >
          <a
            href="/test-iframe/"
            class={`inline-flex items-center rounded-full px-3 py-2 text-sm font-semibold shadow-sm ${is("/test-iframe") ? "bg-white border border-gray-200" : "border border-transparent hover:bg-gray-100"}`}
            >IFRAME</a
          >
          <a
            href="/species/anchors/"
            class={`inline-flex items-center rounded-full px-3 py-2 text-sm font-semibold shadow-sm ${is("/species/anchors") ? "bg-white border border-gray-200" : "border border-transparent hover:bg-gray-100"}`}
            >Ancres</a
          >
          <a
            href="/species/tabs/"
            class="inline-flex items-center rounded-full border border-gray-200 bg-white px-3 py-2 text-sm font-semibold shadow-sm hover:bg-gray-100"
          >
            Espèces (onglets)
          </a>
        </nav>
      </div>
    </header>

    <main class="mx-auto max-w-5xl px-4 py-6 min-h-[65vh]">
      <slot />
    </main>

    <footer class="border-t border-gray-200 bg-white">
      <div
        class="mx-auto max-w-5xl px-4 py-3 flex items-center justify-between"
      >
        <small class="text-gray-600"
          >© {new Date().getFullYear()} — Base reprise du TP1</small
        >
        <small
          ><a
            class="inline-flex items-center rounded-full border border-gray-200 px-3 py-2 text-sm font-semibold shadow-sm hover:bg-gray-100"
            href="https://observablehq.com/plot/getting-started">Doc Plot</a
          ></small
        >
      </div>
    </footer>
  </body>
</html>
