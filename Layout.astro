---
const { title = "TP2 â€“ Observable Plot + Astro" } = Astro.props;
---

<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>{title}</title>
    <style>
      :root { --max: 980px; }
      * { box-sizing: border-box; }

      /* ðŸ”’ Reset global des liens: plus de soulignement/couleur navigateur */
      a, a:link, a:visited { text-decoration: none; color: inherit; }

      body {
        margin: 0;
        font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
        background: #fafafa; color: #111;
      }

      header { border-bottom: 1px solid #eee; background: #fff; }
      footer { border-top: 1px solid #eee; background: #fff; }
      .wrap { max-width: var(--max); margin: 0 auto; padding: 1rem; }
      main { min-height: 65vh; }
      h1 { font-size: clamp(1.6rem, 1.3rem + 1.2vw, 2.1rem); margin: 0 0 1rem; }
      h2 { margin: 0 0 .5rem; }

      /* === Styles repris/adaptÃ©s du TP1 === */

      /* Cartes */
      .card {
        background:#fff; border:1px solid #eee; border-radius:12px;
        padding:1rem 1.25rem; box-shadow:0 1px 2px rgba(0,0,0,.04);
      }

      /* Onglets du header */
      header nav { display:flex; gap:.5rem; flex-wrap:wrap; }
      header nav a {
        display:inline-flex; align-items:center;
        padding:.45rem .8rem; border:1px solid transparent; border-radius:999px;
      }
      header nav a[aria-current="page"] { border-color:#e5e7eb; background:#fff; }
      header nav a:hover { background:#f4f6f8; }

      /* âœ… Composant rÃ©utilisable: nav-pills (mÃªme style que le header) */
      .nav-pills { display:flex; gap:.5rem; flex-wrap:wrap; margin:0 0 .75rem; padding:0; }
      .nav-pills a {
        display:inline-flex; align-items:center;
        padding:.45rem .8rem; border:1px solid transparent; border-radius:999px;
      }
      .nav-pills a:hover { background:#f4f6f8; }
      .nav-pills a[aria-current="page"], .nav-pills a.is-active {
        border-color:#e5e7eb; background:#fff;
      }

      /* AccessibilitÃ© focus */
      a:focus-visible { outline:2px solid #6aa7ff; outline-offset:2px; border-radius:6px; }
    </style>
  </head>

  <body>
    <header>
      <div class="wrap">
        <div style="display:flex; gap:1rem; align-items:center; justify-content:space-between;">
          <a href="/" style="font-weight:800;"> R312-TP2 Florian Goerig MMi2 C1 â€“ Plot Demos</a>
          <nav>
            <a href="/" aria-current={Astro.url.pathname === "/" ? "page" : undefined}>Accueil</a>
            <a href="/species" aria-current={Astro.url.pathname.startsWith("/species") ? "page" : undefined}>EspÃ¨ces</a>
            <a href="/test-iframe" aria-current={Astro.url.pathname.startsWith("/test-iframe") ? "page" : undefined}>IFRAME</a>
            <a href="/species/anchors" aria-current={Astro.url.pathname.startsWith("/species/anchors") ? "page" : undefined}>Ancres</a>
          </nav>
        </div>
      </div>
    </header>

    <main class="wrap">
      <slot />
    </main>

    <footer>
      <div class="wrap" style="display:flex; justify-content:space-between; align-items:center;">
        <small>Â© {new Date().getFullYear()} â€” Base de styles <b>reprise du TP1</b></small>
        <small><a class="card" href="https://observablehq.com/plot/getting-started" style="padding:.4rem .7rem;">Doc Plot</a></small>
      </div>
    </footer>
  </body>
</html>
